<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE-edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout Form</title>
    <link rel="stylesheet" href="./CSS/Style-Checkout.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body>
    <div class="wrapper" id="checkoutContainer">
        <form action="" id="checkoutForm">
            <h1>Checkout</h1>
            <div class="input-box">
                <label for="Product">Product:</label>
                <input type="text" name="Product" placeholder="Product" id="productName" required>
            </div>
            <div class="input-box">
                <label for="Price">Price:</label>
                <input type="text" name="Price" placeholder="Price" id="productPrice" required>
            </div>
            <div class="input-box">
                <label for="quantity">Quantity</label>
                <input type="number" id="quantity" name="quantity" min="1" max="100" required>
            </div>
            <div class="input-box">
                <label for="Name">Fill your Name:</label>
                <input type="text" name="Name" placeholder="Name" required>
            </div>
            <div class="input-box">
                <label for="Address">Fill your Address:</label>
                <input type="text" name="Address" placeholder="Address" required>
            </div>
            <div class="input-box">
                <label for="Phone">Fill your Phone Number:</label>
                <input type="tel" name="Telepone" placeholder="Phone" maxlength="12" required>
            </div>
            <div class="input-box">
                <label for="Payment">Choose payment method: </label>
                <select id="Payment" name="Payment" name="payment" required >
                <option>BCA</option>
                <option>BNI</option>
                <option>BRI</option>
                <option>DANA</option>
                <option>Gopay</option>
                </select>
            </div>
            <div class="input-box">
                <label for="Shipping">Choose Shipping method: </label>
                <select id="Shipping" name="Shipping" name="Shipping" required>
                <option>JNT</option>
                <option>JNE</option>
                <option>Ninja Express</option>
                <option>Antaraja</option>
                <option>Pos Indonesia</option>
                </select>
            </div>
            <button type="submit" class="btn">Checkout</button>
        </form>
    </div>

    <script>
        (function () {
            const ls = localStorage.getItem('user')
            if (ls === null) {
                if (confirm('Anda belum login!')) {
                    window.location.replace("Layout%20Login.HTML")
                }
            }
            const data = JSON.parse(ls)
            // var nama = document.getElementById("nama").innerHTML = "Halo, " + data.username
            // var saldo = document.getElementById("saldo").innerHTML = "Saldo anda: " + data.balance

            // Retrieve product data from local storage
            const productData = JSON.parse(localStorage.getItem('productData'));
            console.log(`product Data ${productData}`);

            // Populate product name and price in the form
            document.getElementById('productName').value = productData.name;
            document.getElementById('productPrice').value = productData.price;

            // Handle form submission
            const checkoutForm = document.getElementById('checkoutForm');
            checkoutForm.addEventListener('submit', function(event) {
                event.preventDefault();
                // Handle form submission, e.g., send data to server
                console.log('Form submitted:', productData);
            });
        })();
    </script>
    <script src="./Javascript/Api_checkout.js"></script>
</body>
</html>
